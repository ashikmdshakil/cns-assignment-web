<div class="container-fluid" style="margin-left: 10px; margin-right: 10px;">
    <div class="row">
      <div class="col-12">
        <div class="row">
            <div class="col-lg-3"></div>
            <div class="col-lg-2">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h1>{{totalProjects}}</h1>
                      <p style="font-size: large; font-weight: 500;">Total Projects</p>
                    </div>
                  </div>
            </div>
            <div class="col-lg-2">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h1>{{totalUsers}}</h1>
                      <p style="font-size: large; font-weight: 500;">Total Users</p>
                    </div>
                  </div>
            </div>
            <div class="col-lg-2">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h1>{{totalRunnings}}</h1>
                      <p style="font-size: large; font-weight: 500;">Running Projects</p>
                    </div>
                  </div>
            </div>
            <div class="col-lg-3"></div>
        </div>



        <div class="row" style="margin-top: 150px;">
          <div class="col-lg-2"></div>
          <div class="col-lg-8">
            <div class="row">
              <div class="col-lg-2">
                  <form action="/action_page.php">
                      <label for="birthday">Start Date:</label>
                      <input type="date"  [(ngModel)]="startTime" id="start_date" name="start_date">
                  </form>
              </div>
              <div class="col-lg-2">
                  <form action="/action_page.php">
                      <label for="birthday">End Date:</label>
                      <input type="date" [(ngModel)]=" endTime"  id="end_date" name="end_date">
                    </form>
              </div>
              <div class="col-lg-2">
                <div class="dropdown" style="margin-top: 18px;">
                  <button class="btn btn-info dropdown-toggle" type="button" data-toggle="dropdown">Select Status
                  <span class="caret"></span></button>
                  <ul class="dropdown-menu">
                    <li><a (click)="setStatus(0)">Pre</a></li>
                    <li><a (click)="setStatus(1)">Start</a></li>
                    <li><a (click)="setStatus(3)">End</a></li>
                  </ul>
                </div>
            </div>
              <div class="col-lg-2">
                <button type="button" (click)="search()" class="btn btn-primary" style="margin-top: 18px;">Search</button>
            </div>
            <div class="col-lg-4">

            </div>
            </div>
          </div>
          <div class="col-lg-2"></div>
        </div>

        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <table class="table table-hover" style="margin-top: 80px;">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Intro</th>
                        <th>Start Date</th>
                        <th>Dead Line</th>
                        <th>Status</th>
                        <th>Owner</th>
                        <th >Members</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let project of projects">
                        <td>{{project.name}}</td>
                        <td>{{project.intro}}</td>
                        <td>{{project.startDateTime | date:'mediumDate'}}</td>
                        <td>{{project.endDateTime | date:'mediumDate'}}</td>
                        <td style="color: chocolate;" *ngIf="project.status==0">Pre</td>
                        <td style="color: green;" *ngIf="project.status==1">Start</td>
                        <td style="color: blue;" *ngIf="project.status==3">End</td>
                        <td>{{project.owner.name}}</td>
                        <td ><button type="button" (click)="showDetails(project.id)" class="btn btn-link" data-toggle="modal" data-target="#myMembers">{{project.projectMembers.length}}</button></td>
                      </tr>
                    </tbody>
                  </table>
            </div>
            <div class="col-lg-2"></div>
        </div>





        <div id="myMembers" class="modal fade" role="dialog">
            <div class="modal-dialog">
          
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Project members</h4>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-lg-2"></div>
                    <div class="col-lg-8">
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th>Employee Name</th>
                            <th>Email</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let user of selectedProject.projectMembers">
                            <td>{{user.name}}</td>
                            <td>{{user.email}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-lg-2"></div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
          
            </div>
          </div>
          
            </div>
          </div>


      </div>

